language: go

go: master
  
install: go get ./...

branch :
  only :
    - feature

git:
  depth: 10

script: 
  - go build adservice/main.go
  - go build bidservice/main.go

after_success :
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ] && [ "$TRAVIS_PULL_REQUEST_BRANCH" == "feature" ] && [ "$TRAVIS_SOURCE" == "develop" ]; then git merge feature; fi'